<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AVR Liberty: net.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">AVR Liberty
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Library of routines for AVR microcontollers</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('net_8h.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">net.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="net_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">//*****************************************************************************</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">// File Name    : &#39;net.h&#39;</span>
<a name="l00005"></a>00005 <span class="comment">// Title                : Network support library</span>
<a name="l00006"></a>00006 <span class="comment">// Author               : Pascal Stang</span>
<a name="l00007"></a>00007 <span class="comment">// Created              : 8/30/2004</span>
<a name="l00008"></a>00008 <span class="comment">// Revised              : 7/3/2005</span>
<a name="l00009"></a>00009 <span class="comment">// Version              : 0.1</span>
<a name="l00010"></a>00010 <span class="comment">// Target MCU   : Atmel AVR series</span>
<a name="l00011"></a>00011 <span class="comment">// Editor Tabs  : 4</span>
<a name="l00012"></a>00012 <span class="comment">//</span>
<a name="l00021"></a>00021 <span class="comment"></span><span class="comment">//</span>
<a name="l00022"></a>00022 <span class="comment">//      This code is distributed under the GNU Public License</span>
<a name="l00023"></a>00023 <span class="comment">//              which can be found at http://www.gnu.org/licenses/gpl.txt</span>
<a name="l00024"></a>00024 <span class="comment">//*****************************************************************************</span>
<a name="l00026"></a>00026 <span class="comment"></span>
<a name="l00027"></a>00027 <span class="preprocessor">#ifndef NET_H</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span><span class="preprocessor">#define NET_H</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;inttypes.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="global_8h.html" title="AVRlib project global include.">global.h</a>&quot;</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="comment">// Representation of a 48-bit Ethernet address.</span>
<a name="l00034"></a><a class="code" href="structnet_eth_addr.html">00034</a> <span class="keyword">struct </span><a class="code" href="structnet_eth_addr.html">netEthAddr</a>
<a name="l00035"></a>00035 {
<a name="l00036"></a><a class="code" href="structnet_eth_addr.html#ae96ca58cce6c57fdcb6dba2562b0cf29">00036</a>         uint8_t <a class="code" href="structnet_eth_addr.html#ae96ca58cce6c57fdcb6dba2562b0cf29">addr</a>[6];
<a name="l00037"></a>00037 } <a class="code" href="group__dhcp.html#gaa4f0cea6e289bcb607eccc33ad881a9a">GNUC_PACKED</a>;
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="comment">// The Ethernet header</span>
<a name="l00040"></a><a class="code" href="structnet_eth_header.html">00040</a> <span class="keyword">struct </span><a class="code" href="structnet_eth_header.html">netEthHeader</a>
<a name="l00041"></a>00041 {
<a name="l00042"></a><a class="code" href="structnet_eth_header.html#a0d570c4b92ff287a90f32b9bc5f8399a">00042</a>         <span class="keyword">struct </span><a class="code" href="structnet_eth_addr.html">netEthAddr</a> <a class="code" href="structnet_eth_header.html#a0d570c4b92ff287a90f32b9bc5f8399a">dest</a>;
<a name="l00043"></a><a class="code" href="structnet_eth_header.html#a5cd9aca341c5921ef428e1f0dd510359">00043</a>         <span class="keyword">struct </span><a class="code" href="structnet_eth_addr.html">netEthAddr</a> <a class="code" href="structnet_eth_header.html#a5cd9aca341c5921ef428e1f0dd510359">src</a>;
<a name="l00044"></a><a class="code" href="structnet_eth_header.html#acb5cfd209ba75c853d03f701e7f91679">00044</a>         uint16_t <a class="code" href="structnet_eth_header.html#acb5cfd209ba75c853d03f701e7f91679">type</a>;
<a name="l00045"></a>00045 } <a class="code" href="group__dhcp.html#gaa4f0cea6e289bcb607eccc33ad881a9a">GNUC_PACKED</a>;
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="group__net.html#ga055d3f576495c1e6018012e1d952da1f">00047</a> <span class="preprocessor">#define ETH_HEADER_LEN  14</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00049"></a><a class="code" href="group__net.html#gadbc208bed02b2900ca2639a25d3f6198">00049</a> <span class="preprocessor">#define ETHTYPE_ARP 0x0806</span>
<a name="l00050"></a><a class="code" href="group__net.html#ga392234c1299a5f5c264e511d88a66e56">00050</a> <span class="preprocessor"></span><span class="preprocessor">#define ETHTYPE_IP  0x0800</span>
<a name="l00051"></a><a class="code" href="group__net.html#gafca2883a7c71b5c2f9ea2259dabe40ee">00051</a> <span class="preprocessor"></span><span class="preprocessor">#define ETHTYPE_IP6 0x86dd </span>
<a name="l00052"></a>00052 <span class="preprocessor"></span>
<a name="l00053"></a>00053 <span class="comment">// The ARP header</span>
<a name="l00054"></a><a class="code" href="structnet_arp_header.html">00054</a> <span class="keyword">struct </span><a class="code" href="structnet_arp_header.html">netArpHeader</a>
<a name="l00055"></a>00055 {
<a name="l00056"></a><a class="code" href="structnet_arp_header.html#a764ca22545b434fca03fac9a06bda626">00056</a>         uint16_t        <a class="code" href="structnet_arp_header.html#a764ca22545b434fca03fac9a06bda626">hwtype</a>;
<a name="l00057"></a><a class="code" href="structnet_arp_header.html#ab551400c74271f35d0c79f81d29cffbb">00057</a>         uint16_t        <a class="code" href="structnet_arp_header.html#ab551400c74271f35d0c79f81d29cffbb">protocol</a>;
<a name="l00058"></a><a class="code" href="structnet_arp_header.html#ac0b63b998e1f7fb63c33a604225a686a">00058</a>         uint8_t         <a class="code" href="structnet_arp_header.html#ac0b63b998e1f7fb63c33a604225a686a">hwlen</a>;
<a name="l00059"></a><a class="code" href="structnet_arp_header.html#a198f396fe47af523b3b29b51c21ff0c0">00059</a>         uint8_t         <a class="code" href="structnet_arp_header.html#a198f396fe47af523b3b29b51c21ff0c0">protolen</a>;
<a name="l00060"></a><a class="code" href="structnet_arp_header.html#aeb39438c0aa5ad494c96060b00351545">00060</a>         uint16_t        <a class="code" href="structnet_arp_header.html#aeb39438c0aa5ad494c96060b00351545">opcode</a>;
<a name="l00061"></a><a class="code" href="structnet_arp_header.html#ab9d6210ce2a3948f3dd307c50f836eb7">00061</a>         <span class="keyword">struct          </span><a class="code" href="structnet_eth_addr.html">netEthAddr</a> <a class="code" href="structnet_arp_header.html#ab9d6210ce2a3948f3dd307c50f836eb7">shwaddr</a>;
<a name="l00062"></a><a class="code" href="structnet_arp_header.html#a801e7fd612fce0c54ffae835f6a84419">00062</a>         uint32_t        <a class="code" href="structnet_arp_header.html#a801e7fd612fce0c54ffae835f6a84419">sipaddr</a>;
<a name="l00063"></a><a class="code" href="structnet_arp_header.html#a45c192d41723ebcd89efaa7ced8b1d5c">00063</a>         <span class="keyword">struct          </span><a class="code" href="structnet_eth_addr.html">netEthAddr</a> <a class="code" href="structnet_arp_header.html#a45c192d41723ebcd89efaa7ced8b1d5c">dhwaddr</a>;
<a name="l00064"></a><a class="code" href="structnet_arp_header.html#a1dbb48175113b8f3fce333f9110c0952">00064</a>         uint32_t        <a class="code" href="structnet_arp_header.html#a1dbb48175113b8f3fce333f9110c0952">dipaddr</a>; 
<a name="l00065"></a>00065 } <a class="code" href="group__dhcp.html#gaa4f0cea6e289bcb607eccc33ad881a9a">GNUC_PACKED</a>;
<a name="l00066"></a>00066 
<a name="l00067"></a><a class="code" href="group__net.html#ga7c62266e4beb768a2e6a2745011ecd8d">00067</a> <span class="preprocessor">#define ARP_OPCODE_REQUEST      1</span>
<a name="l00068"></a><a class="code" href="group__net.html#gaf9129ea80d4bcc5110d16e7c549f6dad">00068</a> <span class="preprocessor"></span><span class="preprocessor">#define ARP_OPCODE_REPLY        2</span>
<a name="l00069"></a><a class="code" href="group__net.html#gabb56b549f7ab4d86e1cc39b8afc70d1e">00069</a> <span class="preprocessor"></span><span class="preprocessor">#define ARP_HWTYPE_ETH          1</span>
<a name="l00070"></a>00070 <span class="preprocessor"></span>
<a name="l00071"></a>00071 <span class="comment">// The IP header</span>
<a name="l00072"></a><a class="code" href="structnet_ip_header.html">00072</a> <span class="keyword">struct </span><a class="code" href="structnet_ip_header.html">netIpHeader</a>
<a name="l00073"></a>00073 {
<a name="l00074"></a><a class="code" href="structnet_ip_header.html#a5bf0c3a91b5791ed8211615a5c5a3866">00074</a>         uint8_t         <a class="code" href="structnet_ip_header.html#a5bf0c3a91b5791ed8211615a5c5a3866">vhl</a>;
<a name="l00075"></a><a class="code" href="structnet_ip_header.html#a3bdbe295d838b7f44e47ad5f4c3fac27">00075</a>         uint8_t         <a class="code" href="structnet_ip_header.html#a3bdbe295d838b7f44e47ad5f4c3fac27">tos</a>;
<a name="l00076"></a><a class="code" href="structnet_ip_header.html#a8aed22e2c7b283705ec82e0120515618">00076</a>         uint16_t        <a class="code" href="structnet_ip_header.html#a8aed22e2c7b283705ec82e0120515618">len</a>;
<a name="l00077"></a><a class="code" href="structnet_ip_header.html#ab5886b639a4da8bef5e85450e710fc45">00077</a>         uint16_t        <a class="code" href="structnet_ip_header.html#ab5886b639a4da8bef5e85450e710fc45">ipid</a>;
<a name="l00078"></a><a class="code" href="structnet_ip_header.html#a3e906c7975e5beab6efa8f711f6d25f2">00078</a>         uint16_t        <a class="code" href="structnet_ip_header.html#a3e906c7975e5beab6efa8f711f6d25f2">ipoffset</a>;
<a name="l00079"></a><a class="code" href="structnet_ip_header.html#a4d402503271315376ddf4e47674d4965">00079</a>         uint8_t         <a class="code" href="structnet_ip_header.html#a4d402503271315376ddf4e47674d4965">ttl</a>;
<a name="l00080"></a><a class="code" href="structnet_ip_header.html#adaae928b69788f774db092e75f1c4fb7">00080</a>         uint8_t         <a class="code" href="structnet_ip_header.html#adaae928b69788f774db092e75f1c4fb7">proto</a>;
<a name="l00081"></a><a class="code" href="structnet_ip_header.html#a3edfdae6dd5d510e36f94add475691be">00081</a>         uint16_t        <a class="code" href="structnet_ip_header.html#a3edfdae6dd5d510e36f94add475691be">ipchksum</a>;
<a name="l00082"></a><a class="code" href="structnet_ip_header.html#a750c43ec490183d8c5ce8bf35d231f82">00082</a>         uint32_t        <a class="code" href="structnet_ip_header.html#a750c43ec490183d8c5ce8bf35d231f82">srcipaddr</a>;
<a name="l00083"></a><a class="code" href="structnet_ip_header.html#a50582c81f8d0ba1f1d1bf9d2cdaf8a7d">00083</a>         uint32_t        <a class="code" href="structnet_ip_header.html#a50582c81f8d0ba1f1d1bf9d2cdaf8a7d">destipaddr</a>;
<a name="l00084"></a>00084 } <a class="code" href="group__dhcp.html#gaa4f0cea6e289bcb607eccc33ad881a9a">GNUC_PACKED</a>;
<a name="l00085"></a><a class="code" href="group__net.html#ga956b187f1ee557ac6c330bc95bad53e9">00085</a> <span class="preprocessor">#define IP_HEADER_LEN   20</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span>
<a name="l00087"></a><a class="code" href="group__net.html#gaacaea7b8c4c8a5229c02b653766b4793">00087</a> <span class="preprocessor">#define IP_PROTO_ICMP   1</span>
<a name="l00088"></a><a class="code" href="group__net.html#ga634284ee3a136d6ad61bc5d917ebb82f">00088</a> <span class="preprocessor"></span><span class="preprocessor">#define IP_PROTO_TCP    6</span>
<a name="l00089"></a><a class="code" href="group__net.html#ga76212e7ef71a99646040d2e454388bed">00089</a> <span class="preprocessor"></span><span class="preprocessor">#define IP_PROTO_UDP    17</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span>
<a name="l00091"></a>00091 <span class="comment">// The ICMP header</span>
<a name="l00092"></a><a class="code" href="structnet_icmp_header.html">00092</a> <span class="keyword">struct </span><a class="code" href="structnet_icmp_header.html">netIcmpHeader</a>
<a name="l00093"></a>00093 {
<a name="l00094"></a><a class="code" href="structnet_icmp_header.html#a1d127017fb298b889f4ba24752d08b8e">00094</a>         uint8_t         <a class="code" href="structnet_icmp_header.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;
<a name="l00095"></a><a class="code" href="structnet_icmp_header.html#a4ddd09eee39701cc89e018616d04c5d8">00095</a>         uint8_t         <a class="code" href="structnet_icmp_header.html#a4ddd09eee39701cc89e018616d04c5d8">icode</a>;
<a name="l00096"></a><a class="code" href="structnet_icmp_header.html#a8f0bf4d4bb71a1a8821121c1b9690ad8">00096</a>         uint16_t        <a class="code" href="structnet_icmp_header.html#a8f0bf4d4bb71a1a8821121c1b9690ad8">icmpchksum</a>;
<a name="l00097"></a><a class="code" href="structnet_icmp_header.html#a4fc3a0c58dfbd1e68224521185cb9384">00097</a>         uint16_t        <a class="code" href="structnet_icmp_header.html#a4fc3a0c58dfbd1e68224521185cb9384">id</a>;
<a name="l00098"></a><a class="code" href="structnet_icmp_header.html#af8de2badefb7aac3e20aaa1ec40e3ba5">00098</a>         uint16_t        <a class="code" href="structnet_icmp_header.html#af8de2badefb7aac3e20aaa1ec40e3ba5">seqno</a>;
<a name="l00099"></a>00099 } <a class="code" href="group__dhcp.html#gaa4f0cea6e289bcb607eccc33ad881a9a">GNUC_PACKED</a>;
<a name="l00100"></a><a class="code" href="group__net.html#ga6c76392be7c260fc134a6bd2045a6566">00100</a> <span class="preprocessor">#define ICMP_HEADER_LEN 8</span>
<a name="l00101"></a>00101 <span class="preprocessor"></span>
<a name="l00102"></a><a class="code" href="group__net.html#ga6a5b67de45f6c481eb7a3a918c599030">00102</a> <span class="preprocessor">#define ICMP_TYPE_ECHOREPLY             0</span>
<a name="l00103"></a><a class="code" href="group__net.html#ga47e8a8637d1256068053ce6dd21e687a">00103</a> <span class="preprocessor"></span><span class="preprocessor">#define ICMP_TYPE_ECHOREQUEST   8</span>
<a name="l00104"></a>00104 <span class="preprocessor"></span>
<a name="l00105"></a>00105 <span class="comment">// The UDP header</span>
<a name="l00106"></a><a class="code" href="structnet_udp_header.html">00106</a> <span class="keyword">struct </span><a class="code" href="structnet_udp_header.html">netUdpHeader</a>
<a name="l00107"></a>00107 {
<a name="l00108"></a><a class="code" href="structnet_udp_header.html#afcd76fe086adb6eff9f949cc815b2e1f">00108</a>         uint16_t        <a class="code" href="structnet_udp_header.html#afcd76fe086adb6eff9f949cc815b2e1f">srcport</a>;
<a name="l00109"></a><a class="code" href="structnet_udp_header.html#a2f50935ec66e25f82b8f941a737edfee">00109</a>         uint16_t        <a class="code" href="structnet_udp_header.html#a2f50935ec66e25f82b8f941a737edfee">destport</a>;
<a name="l00110"></a><a class="code" href="structnet_udp_header.html#a70b1715f098dec8f5c7f35153de5ef00">00110</a>         uint16_t        <a class="code" href="structnet_udp_header.html#a70b1715f098dec8f5c7f35153de5ef00">udplen</a>;
<a name="l00111"></a><a class="code" href="structnet_udp_header.html#a86e29ed547cf24d26b3ee297632c6bfd">00111</a>         uint16_t        <a class="code" href="structnet_udp_header.html#a86e29ed547cf24d26b3ee297632c6bfd">udpchksum</a>;
<a name="l00112"></a>00112 } <a class="code" href="group__dhcp.html#gaa4f0cea6e289bcb607eccc33ad881a9a">GNUC_PACKED</a>;
<a name="l00113"></a><a class="code" href="group__net.html#gac8932031ba2c6d324056a751296553ba">00113</a> <span class="preprocessor">#define UDP_HEADER_LEN  8</span>
<a name="l00114"></a>00114 <span class="preprocessor"></span>
<a name="l00115"></a>00115 <span class="comment">// The TCP header</span>
<a name="l00116"></a><a class="code" href="structnet_tcp_header.html">00116</a> <span class="keyword">struct </span><a class="code" href="structnet_tcp_header.html">netTcpHeader</a>
<a name="l00117"></a>00117 {
<a name="l00118"></a><a class="code" href="structnet_tcp_header.html#afcd76fe086adb6eff9f949cc815b2e1f">00118</a>         uint16_t        <a class="code" href="structnet_tcp_header.html#afcd76fe086adb6eff9f949cc815b2e1f">srcport</a>;
<a name="l00119"></a><a class="code" href="structnet_tcp_header.html#a2f50935ec66e25f82b8f941a737edfee">00119</a>         uint16_t        <a class="code" href="structnet_tcp_header.html#a2f50935ec66e25f82b8f941a737edfee">destport</a>;
<a name="l00120"></a><a class="code" href="structnet_tcp_header.html#a9ac42137a8036d8af9b7a5e678e05f57">00120</a>         uint32_t        <a class="code" href="structnet_tcp_header.html#a9ac42137a8036d8af9b7a5e678e05f57">seqno</a>;
<a name="l00121"></a><a class="code" href="structnet_tcp_header.html#a131d91400b4262c5d79aa80aa8028c39">00121</a>         uint32_t        <a class="code" href="structnet_tcp_header.html#a131d91400b4262c5d79aa80aa8028c39">ackno</a>;
<a name="l00122"></a><a class="code" href="structnet_tcp_header.html#a0d824e30c2ef0c574aa3b75966633e47">00122</a>         uint8_t         <a class="code" href="structnet_tcp_header.html#a0d824e30c2ef0c574aa3b75966633e47">tcpoffset</a>;
<a name="l00123"></a><a class="code" href="structnet_tcp_header.html#aa2585d779da0ab21273a8d92de9a0ebe">00123</a>         uint8_t         <a class="code" href="structnet_tcp_header.html#aa2585d779da0ab21273a8d92de9a0ebe">flags</a>;
<a name="l00124"></a><a class="code" href="structnet_tcp_header.html#aa1649509dd1ae71d72616123723e7bd7">00124</a>         uint16_t        <a class="code" href="structnet_tcp_header.html#aa1649509dd1ae71d72616123723e7bd7">wnd</a>;
<a name="l00125"></a><a class="code" href="structnet_tcp_header.html#af4ac725680813bb4b37e893903be10d0">00125</a>         uint16_t        <a class="code" href="structnet_tcp_header.html#af4ac725680813bb4b37e893903be10d0">tcpchksum</a>;
<a name="l00126"></a><a class="code" href="structnet_tcp_header.html#a2460dcc420d00497e87a7ce21e24af20">00126</a>         uint16_t        <a class="code" href="structnet_tcp_header.html#a2460dcc420d00497e87a7ce21e24af20">urgp</a>;
<a name="l00127"></a>00127 <span class="comment">//      uint8_t         optdata[4];</span>
<a name="l00128"></a>00128 } <a class="code" href="group__dhcp.html#gaa4f0cea6e289bcb607eccc33ad881a9a">GNUC_PACKED</a>;
<a name="l00129"></a><a class="code" href="group__net.html#ga740a581ae8a35628da5a04a23d33eefe">00129</a> <span class="preprocessor">#define TCP_HEADER_LEN  20</span>
<a name="l00130"></a>00130 <span class="preprocessor"></span>
<a name="l00131"></a><a class="code" href="group__net.html#gaa6d9083b06cbf761da3113613dea9abe">00131</a> <span class="preprocessor">#define TCP_FLAGS_FIN   0x01</span>
<a name="l00132"></a><a class="code" href="group__net.html#ga853a9a5aa26ecd4cbb9f845d15529e5c">00132</a> <span class="preprocessor"></span><span class="preprocessor">#define TCP_FLAGS_SYN   0x02</span>
<a name="l00133"></a><a class="code" href="group__net.html#ga25d1813f2a116ab6189e769d3b2f58b9">00133</a> <span class="preprocessor"></span><span class="preprocessor">#define TCP_FLAGS_RST   0x04</span>
<a name="l00134"></a><a class="code" href="group__net.html#gad30723342d3ac2215e203ae5c077c43b">00134</a> <span class="preprocessor"></span><span class="preprocessor">#define TCP_FLAGS_PSH   0x08</span>
<a name="l00135"></a><a class="code" href="group__net.html#ga8899f8809c422775dbbdc79880f492a2">00135</a> <span class="preprocessor"></span><span class="preprocessor">#define TCP_FLAGS_ACK   0x10</span>
<a name="l00136"></a><a class="code" href="group__net.html#ga2dfb708818056b323077854f90680e42">00136</a> <span class="preprocessor"></span><span class="preprocessor">#define TCP_FLAGS_URG   0x20</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span>
<a name="l00138"></a>00138 <span class="comment">// Ethernet/ARP header</span>
<a name="l00139"></a><a class="code" href="structnet_eth_arp_header.html">00139</a> <span class="keyword">struct </span><a class="code" href="structnet_eth_arp_header.html">netEthArpHeader</a>
<a name="l00140"></a>00140 {
<a name="l00141"></a><a class="code" href="structnet_eth_arp_header.html#ac61057ce60f3eeaf9d9ef419352c8ecf">00141</a>         <span class="keyword">struct </span><a class="code" href="structnet_eth_header.html">netEthHeader</a> <a class="code" href="structnet_eth_arp_header.html#ac61057ce60f3eeaf9d9ef419352c8ecf">eth</a>;
<a name="l00142"></a><a class="code" href="structnet_eth_arp_header.html#ae5192b87908d3ccb9beb6c374b44070a">00142</a>         <span class="keyword">struct </span><a class="code" href="structnet_arp_header.html">netArpHeader</a> <a class="code" href="structnet_eth_arp_header.html#ae5192b87908d3ccb9beb6c374b44070a">arp</a>;
<a name="l00143"></a>00143 } <a class="code" href="group__dhcp.html#gaa4f0cea6e289bcb607eccc33ad881a9a">GNUC_PACKED</a>;
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 <span class="comment">// Ethernet/IP header</span>
<a name="l00146"></a><a class="code" href="structnet_eth_ip_header.html">00146</a> <span class="keyword">struct </span><a class="code" href="structnet_eth_ip_header.html">netEthIpHeader</a>
<a name="l00147"></a>00147 {
<a name="l00148"></a><a class="code" href="structnet_eth_ip_header.html#ac61057ce60f3eeaf9d9ef419352c8ecf">00148</a>         <span class="keyword">struct </span><a class="code" href="structnet_eth_header.html">netEthHeader</a> <a class="code" href="structnet_eth_ip_header.html#ac61057ce60f3eeaf9d9ef419352c8ecf">eth</a>;
<a name="l00149"></a><a class="code" href="structnet_eth_ip_header.html#a24a1d67c53b0051e83d7474647f514e3">00149</a>         <span class="keyword">struct </span><a class="code" href="structnet_ip_header.html">netIpHeader</a>  <a class="code" href="structnet_eth_ip_header.html#a24a1d67c53b0051e83d7474647f514e3">ip</a>;
<a name="l00150"></a>00150 } <a class="code" href="group__dhcp.html#gaa4f0cea6e289bcb607eccc33ad881a9a">GNUC_PACKED</a>;
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 <span class="comment">// The IP header</span>
<a name="l00153"></a><a class="code" href="group__net.html#gad7ca4d7ea0c8b7a9537bd2c4871ef19f">00153</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structnet_ip_header.html">netIpHeader</a> <a class="code" href="structnet_ip_header.html">ip_hdr</a>;
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 <span class="comment">// The IP/TCP headers</span>
<a name="l00156"></a><a class="code" href="structtcpip__hdr.html">00156</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00157"></a>00157 {
<a name="l00158"></a><a class="code" href="structtcpip__hdr.html#a24a1d67c53b0051e83d7474647f514e3">00158</a>         <span class="keyword">struct </span><a class="code" href="structnet_ip_header.html">netIpHeader</a>  ip;
<a name="l00159"></a><a class="code" href="structtcpip__hdr.html#a68f4ec4421ffcecf034fa3dde3fdabb1">00159</a>         <span class="keyword">struct </span><a class="code" href="structnet_tcp_header.html">netTcpHeader</a> tcp;
<a name="l00160"></a>00160 } <a class="code" href="structtcpip__hdr.html">tcpip_hdr</a>;
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <span class="comment">// The IP/ICMP headers</span>
<a name="l00163"></a><a class="code" href="structicmpip__hdr.html">00163</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00164"></a><a class="code" href="structicmpip__hdr.html#a24a1d67c53b0051e83d7474647f514e3">00164</a>         <span class="keyword">struct </span><a class="code" href="structnet_ip_header.html">netIpHeader</a>  ip;
<a name="l00165"></a><a class="code" href="structicmpip__hdr.html#a3c423c334dcfa54d21b666ee0887ebea">00165</a>         <span class="keyword">struct </span><a class="code" href="structnet_icmp_header.html">netIcmpHeader</a> icmp;
<a name="l00166"></a>00166 } <a class="code" href="structicmpip__hdr.html">icmpip_hdr</a>;
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 <span class="comment">// The UDP and IP headers</span>
<a name="l00170"></a><a class="code" href="structudpip__hdr.html">00170</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00171"></a><a class="code" href="structudpip__hdr.html#a24a1d67c53b0051e83d7474647f514e3">00171</a>         <span class="keyword">struct </span><a class="code" href="structnet_ip_header.html">netIpHeader</a>  ip;
<a name="l00172"></a><a class="code" href="structudpip__hdr.html#a8d10f734b7bee4bbc3a1c7e4a2db14a6">00172</a>         <span class="keyword">struct </span><a class="code" href="structnet_udp_header.html">netUdpHeader</a> udp;
<a name="l00173"></a>00173 } <a class="code" href="structudpip__hdr.html">udpip_hdr</a>;
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 
<a name="l00178"></a><a class="code" href="group__net.html#gaa200a99de68c1a650fd4c21fbb22e906">00178</a> <span class="preprocessor">#define IPDOT(a,b,c,d)  ((a&lt;&lt;24)|(b&lt;&lt;16)|(c&lt;&lt;8)|(d))</span>
<a name="l00179"></a>00179 <span class="preprocessor"></span>
<a name="l00181"></a><a class="code" href="group__net.html#gaf66d2d2b4d4bef0049a9ef48b46da996">00181</a> <span class="preprocessor">#define HTONS(s)                ((s&lt;&lt;8) | (s&gt;&gt;8))</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span>
<a name="l00183"></a><a class="code" href="group__net.html#gabff09e6e1fb7138f24af16e7d35b4aad">00183</a> <span class="preprocessor">#define HTONL(l)                ((l&lt;&lt;24) | ((l&amp;0x00FF0000l)&gt;&gt;8) | ((l&amp;0x0000FF00l)&lt;&lt;8) | (l&gt;&gt;24))</span>
<a name="l00184"></a>00184 <span class="preprocessor"></span>
<a name="l00186"></a>00186 uint16_t <a class="code" href="group__net.html#ga5d6ce1e421c5ea25eb7aa4aa06b75534" title="Host-to-Network SHORT (16-bit) byte-order swap (function).">htons</a>(uint16_t val);
<a name="l00188"></a>00188 uint32_t <a class="code" href="group__net.html#ga5c5e62361984ca888ac4b840cf059c6f" title="Host-to-Network LONG (32-bit) byte-order swap (function).">htonl</a>(uint32_t val);
<a name="l00189"></a>00189 
<a name="l00191"></a>00191 uint16_t <a class="code" href="group__net.html#ga00b47e4b1638bc746c83d234a1f29d5e" title="Calculate IP-style checksum from data.">netChecksum</a>(<span class="keywordtype">void</span> *data, uint16_t len);
<a name="l00192"></a>00192 
<a name="l00194"></a>00194 <span class="keywordtype">void</span> <a class="code" href="group__net.html#ga9bcf0d3cb24bf603d8ffe138692a1e9e" title="Print Ethernet address in XX:XX:XX:XX:XX:XX format.">netPrintEthAddr</a>(<span class="keyword">struct</span> <a class="code" href="structnet_eth_addr.html">netEthAddr</a>* ethaddr);
<a name="l00196"></a>00196 <span class="keywordtype">void</span> <a class="code" href="group__net.html#ga2399b687d783eb8536eea44f4f887f1f" title="Print IP address in dot notation.">netPrintIPAddr</a>(uint32_t ipaddr);
<a name="l00198"></a>00198 <span class="keywordtype">void</span> <a class="code" href="group__net.html#gaafe0e373494bec4f7c85d91c3c28584a" title="Print Ethernet header information.">netPrintEthHeader</a>(<span class="keyword">struct</span> <a class="code" href="structnet_eth_header.html">netEthHeader</a>* eth_hdr);
<a name="l00200"></a>00200 <span class="keywordtype">void</span> <a class="code" href="group__net.html#ga0dfefb713aa346ffb1c419fd40ab5edf" title="Print IP header information.">netPrintIpHeader</a>(<span class="keyword">struct</span> <a class="code" href="structnet_ip_header.html">netIpHeader</a>* ipheader);
<a name="l00202"></a>00202 <span class="keywordtype">void</span> <a class="code" href="group__net.html#gaf108f3b229303548ac1a7b07d9178faf" title="Print TCP header information.">netPrintTcpHeader</a>(<span class="keyword">struct</span> <a class="code" href="structnet_tcp_header.html">netTcpHeader</a>* tcpheader);
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 <span class="preprocessor">#endif</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span>
<a name="l00206"></a>00206 
</pre></div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="net_8h.html">net.h</a>      </li>

    <li class="footer">Generated on Wed Mar 28 2012 19:21:21 for AVR Liberty by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
